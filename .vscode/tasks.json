{
  "version": "2.0.0",
  "tasks": [
    // ============================================================
    // Quick Start - Full Stack
    // ============================================================
    {
      "label": "üöÄ Quick Start: Full Orkhon Stack (Cross-Platform)",
      "type": "shell",
      "command": ".venv/Scripts/python.exe",
      "args": [
        "${workspaceFolder}/scripts/dev.py",
        "quick-start",
        "--wait",
        "30"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "dedicated",
        "showReuseMessage": false,
        "clear": false
      },
      "group": {
        "kind": "build",
        "isDefault": true
      }
    },
    {
      "label": "Toolbox: Start (Cross-Platform)",
      "type": "shell",
      "command": ".venv/Scripts/python.exe",
      "args": [
        "${workspaceFolder}/scripts/dev.py",
        "toolbox",
        "start",
        "--wait",
        "30"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      },
      "group": {
        "kind": "build",
        "isDefault": false
      }
    },
    {
      "label": "Toolbox: Logs (Cross-Platform)",
      "type": "shell",
      "command": ".venv/Scripts/python.exe",
      "args": [
        "${workspaceFolder}/scripts/dev.py",
        "toolbox",
        "logs"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      }
    },
    {
      "label": "üöÄ Quick Start: Full Orkhon Stack (PowerShell)",
      "type": "shell",
      "command": "${workspaceFolder}/quick-start.ps1",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "dedicated",
        "showReuseMessage": false,
        "clear": false
      }
    },
    {
      "label": "ADK: Start Web Server Only (Cross-Platform)",
      "type": "shell",
      "command": ".venv/Scripts/python.exe",
      "args": [
        "${workspaceFolder}/scripts/dev.py",
        "web"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "dedicated",
        "showReuseMessage": false,
        "clear": false
      },
      "isBackground": true,
      "group": "build"
    },
    {
      "label": "üåê Open: ADK Web UI",
      "type": "shell",
      "command": "Start-Process 'http://localhost:8000'",
      "problemMatcher": [],
      "presentation": {
        "echo": false,
        "reveal": "silent",
        "focus": false,
        "panel": "shared"
      },
      "group": "none"
    },
    {
      "label": "üåê Open: Toolbox UI",
      "type": "shell",
      "command": "Start-Process 'http://localhost:5000/ui/'",
      "problemMatcher": [],
      "presentation": {
        "echo": false,
        "reveal": "silent",
        "focus": false,
        "panel": "shared"
      },
      "group": "none"
    },
    {
      "label": "üåê Open: Jaeger Tracing UI",
      "type": "shell",
      "command": "Start-Process 'http://localhost:16686'",
      "problemMatcher": [],
      "presentation": {
        "echo": false,
        "reveal": "silent",
        "focus": false,
        "panel": "shared"
      },
      "group": "none"
    },
    {
      "label": "üîç Diagnostics: Check System Status",
      "type": "shell",
      "command": "${workspaceFolder}/backend/adk/diagnose-setup.ps1",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "dedicated"
      },
      "group": "test"
    },
    // ============================================================
    // Server Management - Development
    // ============================================================
    {
      "label": "MCP: Start Dev Server",
      "type": "shell",
      "command": "docker-compose -f docker-compose.dev.yml up -d",
      "options": {
        "cwd": "${workspaceFolder}/backend/toolbox"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true,
        "close": false
      },
      "group": {
        "kind": "build",
        "isDefault": false
      }
    },
    {
      "label": "MCP: Stop Dev Server",
      "type": "shell",
      "command": "docker-compose -f docker-compose.dev.yml down",
      "options": {
        "cwd": "${workspaceFolder}/backend/toolbox"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true,
        "close": false
      }
    },
    {
      "label": "MCP: Restart Dev Server",
      "type": "shell",
      "command": "docker-compose -f docker-compose.dev.yml restart genai-toolbox-mcp",
      "options": {
        "cwd": "${workspaceFolder}/backend/toolbox"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true,
        "close": false
      }
    },
    {
      "label": "MCP: Rebuild & Start Dev Server",
      "type": "shell",
      "command": "docker-compose -f docker-compose.dev.yml up -d --build",
      "options": {
        "cwd": "${workspaceFolder}/backend/toolbox"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true,
        "close": false
      }
    },
    // ============================================================
    // Server Management - Production
    // ============================================================
    {
      "label": "MCP: Start Prod Server",
      "type": "shell",
      "command": "docker-compose -f docker-compose.prod.yml up -d",
      "options": {
        "cwd": "${workspaceFolder}/backend/toolbox"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      }
    },
    {
      "label": "MCP: Stop Prod Server",
      "type": "shell",
      "command": "docker-compose -f docker-compose.prod.yml down",
      "options": {
        "cwd": "${workspaceFolder}/backend/toolbox"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      }
    },
    // ============================================================
    // Monitoring & Debugging
    // ============================================================
    {
      "label": "MCP: View Dev Logs (Live)",
      "type": "shell",
      "command": "docker-compose -f docker-compose.dev.yml logs -f genai-toolbox-mcp",
      "options": {
        "cwd": "${workspaceFolder}/backend/toolbox"
      },
      "problemMatcher": [],
      "isBackground": true,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "focus": true,
        "clear": true
      }
    },
    {
      "label": "MCP: View All Logs (Live)",
      "type": "shell",
      "command": "docker-compose -f docker-compose.dev.yml logs -f",
      "options": {
        "cwd": "${workspaceFolder}/backend/toolbox"
      },
      "problemMatcher": [],
      "isBackground": true,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "focus": true,
        "clear": true
      }
    },
    {
      "label": "MCP: Check Container Status",
      "type": "shell",
      "command": "docker ps --filter name=orkhon-toolbox",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      }
    },
    // ============================================================
    // Jaeger Tracing Management
    // ============================================================
    {
      "label": "Jaeger: Restart Container",
      "type": "shell",
      "command": "docker-compose -f docker-compose.dev.yml restart jaeger",
      "options": {
        "cwd": "${workspaceFolder}/backend/toolbox"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      }
    },
    {
      "label": "Jaeger: View Logs (Live)",
      "type": "shell",
      "command": "docker-compose -f docker-compose.dev.yml logs -f jaeger",
      "options": {
        "cwd": "${workspaceFolder}/backend/toolbox"
      },
      "problemMatcher": [],
      "isBackground": true,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "focus": true,
        "clear": true
      }
    },
    {
      "label": "Jaeger: Check Health Status",
      "type": "shell",
      "command": "docker inspect orkhon-toolbox-dev-jaeger-1 --format='{{.State.Health.Status}}'",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      }
    },
    {
      "label": "Jaeger: Test OTLP Endpoint",
      "type": "shell",
      "command": "curl -s -o /dev/null -w '%{http_code}' -X POST http://localhost:4318/v1/traces -H 'Content-Type: application/json' -d '{\"resourceSpans\":[]}'",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      }
    },
    {
      "label": "Jaeger: Clear All Traces (Restart Container)",
      "type": "shell",
      "command": "docker-compose -f docker-compose.dev.yml restart jaeger",
      "options": {
        "cwd": "${workspaceFolder}/backend/toolbox"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      }
    },
    // ============================================================
    // Web UI Shortcuts
    // ============================================================
    // ============================================================
    // Web UI Shortcuts
    // ============================================================
    {
      "label": "MCP: Open Toolbox Web UI",
      "type": "shell",
      "command": "Start-Process 'http://localhost:5000/ui/'",
      "problemMatcher": [],
      "presentation": {
        "reveal": "never",
        "panel": "shared"
      }
    },
    {
      "label": "MCP: Open Jaeger Tracing UI",
      "type": "shell",
      "command": "Start-Process 'http://localhost:16686'",
      "problemMatcher": [],
      "presentation": {
        "reveal": "never",
        "panel": "shared"
      }
    },
    {
      "label": "MCP: Open Statistics OpenAPI Spec",
      "type": "shell",
      "command": "code",
      "args": [
        "--open-url",
        "openapi://c:/Users/rjjaf/_Projects/orkhon/backend/apis/dnb/specs/openapi3_statisticsdatav2024100101.yaml"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "never",
        "panel": "shared"
      }
    },
    {
      "label": "MCP: Open Public Register OpenAPI Spec",
      "type": "shell",
      "command": "code",
      "args": [
        "--open-url",
        "openapi://c:/Users/rjjaf/_Projects/orkhon/backend/apis/dnb/specs/openapi3_publicdatav1.yaml"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "never",
        "panel": "shared"
      }
    },
    // ============================================================
    // API Testing
    // ============================================================
    // ============================================================
    // API Testing
    // ============================================================
    {
      "label": "DNB: Test Echo API (Direct)",
      "type": "shell",
      "command": "curl",
      "args": [
        "-i",
        "-H",
        "Ocp-Apim-Subscription-Key: ${env:DNB_SUBSCRIPTION_KEY_DEV}",
        "https://api.dnb.nl/echo-api/helloworld"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      }
    },
    {
      "label": "DNB: Test Echo API (via Toolbox)",
      "type": "shell",
      "command": "Invoke-RestMethod",
      "args": [
        "-Uri",
        "http://localhost:5000/api/tool/dnb-echo-helloworld/invoke",
        "-Method",
        "POST",
        "-ContentType",
        "application/json",
        "-Body",
        "'{}'",
        "|",
        "ConvertTo-Json",
        "-Depth",
        "10"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      }
    },
    {
      "label": "DNB: Get Statistics Metadata",
      "type": "shell",
      "command": "curl",
      "args": [
        "-H",
        "Ocp-Apim-Subscription-Key: ${env:DNB_SUBSCRIPTION_KEY_DEV}",
        "-H",
        "Accept: application/json",
        "https://api.dnb.nl/statistics/v2024100101/metadata",
        "|",
        "jq",
        "."
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      }
    },
    {
      "label": "DNB: Query Statistics Sample",
      "type": "shell",
      "command": "curl",
      "args": [
        "-H",
        "Ocp-Apim-Subscription-Key: ${env:DNB_SUBSCRIPTION_KEY_DEV}",
        "-H",
        "Accept: application/json",
        "https://api.dnb.nl/statistics/v2024100101/data?limit=5",
        "|",
        "jq",
        "."
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      }
    },
    {
      "label": "Toolbox: List All Tools",
      "type": "shell",
      "command": "Invoke-RestMethod",
      "args": [
        "-Uri",
        "http://localhost:5000/api/toolset/",
        "|",
        "ConvertTo-Json",
        "-Depth",
        "10"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      }
    },
    {
      "label": "Toolbox: List DNB Toolset",
      "type": "shell",
      "command": "Invoke-RestMethod",
      "args": [
        "-Uri",
        "http://localhost:5000/api/toolset/dnb-tools",
        "|",
        "ConvertTo-Json",
        "-Depth",
        "10"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      }
    },
    // ============================================================
    // ============================================================
    // OpenAPI Conversion
    // ============================================================
    {
      "label": "OpenAPI: Convert All APIs to Toolbox Format",
      "type": "shell",
      "command": "python",
      "args": [
        "openapi_to_toolbox.py",
        "convert",
        "--all"
      ],
      "options": {
        "cwd": "${workspaceFolder}/backend/agentbox"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true,
        "close": false
      },
      "group": {
        "kind": "build",
        "isDefault": false
      }
    },
    {
      "label": "OpenAPI: Convert Single API to Toolbox Format",
      "type": "shell",
      "command": "python",
      "args": [
        "openapi_to_toolbox.py",
        "convert",
        "--spec",
        "${input:openApiSpec}",
        "--output",
        "${input:outputFile}",
        "--source",
        "${input:sourceName}",
        "--name",
        "${input:apiName}"
      ],
      "options": {
        "cwd": "${workspaceFolder}/backend/agentbox"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true,
        "close": false
      },
      "group": {
        "kind": "build",
        "isDefault": false
      }
    },
    // ============================================================
    // Quick Actions
    // ============================================================
    {
      "label": "üöÄ Full Restart: Stop ‚Üí Start ‚Üí Open UI",
      "dependsOrder": "sequence",
      "dependsOn": [
        "MCP: Stop Dev Server",
        "MCP: Start Dev Server",
        "MCP: Open Toolbox Web UI"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    },
    {
      "label": "üîÑ Convert & Restart: Convert APIs ‚Üí Restart Server ‚Üí Open UI",
      "dependsOrder": "sequence",
      "dependsOn": [
        "OpenAPI: Convert All APIs to Toolbox Format",
        "MCP: Restart Dev Server",
        "MCP: Open Toolbox Web UI"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    }
  ],
  "inputs": [
    {
      "id": "openApiSpec",
      "type": "promptString",
      "description": "Path to OpenAPI spec file (relative to backend/agentbox)",
      "default": "../apis/dnb/specs/openapi3_statisticsdatav2024100101.yaml"
    },
    {
      "id": "outputFile",
      "type": "promptString",
      "description": "Output YAML file path (relative to backend/agentbox)",
      "default": "../toolbox/config/dev/20-dnb-statistics.generated.yaml"
    },
    {
      "id": "sourceName",
      "type": "promptString",
      "description": "Source name for the API",
      "default": "dnb-api-statistics"
    },
    {
      "id": "apiName",
      "type": "promptString",
      "description": "Human-readable API name",
      "default": "DNB Statistics API"
    }
  ]
}