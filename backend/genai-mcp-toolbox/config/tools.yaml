# MCP Tool Configuration
# Documentation: https://googleapis.github.io/genai-toolbox/

sources:
  # DNB API HTTP source
  dnb-http:
    kind: http
    baseUrl: https://api.portal.dnb.nl
    timeout: 30s
    headers:
      # Load from .env file
      Ocp-Apim-Subscription-Key: ${DNB_SUBSCRIPTION_KEY}
      X-Subscription-Name: ${DNB_SUBSCRIPTION_NAME}
      Accept: application/json
    # Rate limiting (DNB allows 30 calls/min)
    rateLimitPerMinute: 30

tools:
  # Example DNB query tool
  dnb-query-data:
    kind: http
    source: dnb-http
    method: GET
    path: /v1/your-endpoint  # Replace with actual DNB endpoint
    description: |
      Query DNB public data via the dnb-solven subscription.
      Rate limited to 30 calls per minute.
    parameters:
      query:
        type: string
        description: Search query string
        required: true
      limit:
        type: integer
        description: Maximum number of results
        default: 10
    queryParams:
      q: ${query}
      limit: ${limit}
    
  # Health check tool (useful for monitoring)
  dnb-health:
    kind: http
    source: dnb-http
    method: GET
    path: /health  # If DNB provides a health endpoint
    description: Check DNB API service health