# ============================================================================
# DNB API Tools - DEVELOPMENT Environment
# Single source of truth with all available tools
# ============================================================================

sources:
  dnb-statistics:
    kind: http
    baseUrl: https://api.dnb.nl/statisticsdata/v2024100101
    timeout: 30s
    headers:
      Ocp-Apim-Subscription-Key: ${DNB_SUBSCRIPTION_KEY_DEV}
      Accept: application/json
      User-Agent: Orkhon-Toolbox-Dev/1.0
    rateLimitPerMinute: 30

  dnb-publicdata:
    kind: http
    baseUrl: https://api.dnb.nl/publicdata/v1
    timeout: 30s
    headers:
      Ocp-Apim-Subscription-Key: ${DNB_SUBSCRIPTION_KEY_DEV}
      Accept: application/json
      User-Agent: Orkhon-Toolbox-Dev/1.0
    rateLimitPerMinute: 30

  dnb-echo:
    kind: http
    baseUrl: https://api.dnb.nl/echo-api
    timeout: 30s
    headers:
      Ocp-Apim-Subscription-Key: ${DNB_SUBSCRIPTION_KEY_DEV}
      Accept: application/json
      User-Agent: Orkhon-Toolbox-Dev/1.0
    rateLimitPerMinute: 30

# Instead of defining 100+ individual tools, use OpenAPI spec
tools:
  # Load all DNB Statistics API endpoints automatically
  dnb-statistics-api:
    kind: openapi
    source: dnb-statistics
    spec: file://./specs/openapi3_statisticsdatav2024100101.yaml
    # Optional: filter which operations to include
    includeOperations:
      - getExchangeRatesOfTheEuroAndGoldPriceDay
      - getMarketInterestRatesDay
      - getDutchHouseholdSavingsMonth
      # ... or leave empty to include ALL operations
    
  # Or include everything with a prefix
  dnb-all-apis:
    kind: openapi
    source: dnb-statistics
    spec: file://./specs/openapi3_statisticsdatav2024100101.yaml
    operationIdPrefix: dnb_  # This will prefix all tool names

toolsets:
  # Now you can reference the dynamically generated tools
  dnb-banking:
    - dnb_getDutchHouseholdSavingsMonth
    - dnb_getMfiHouseholdDepositsAndLoansInterestRatesMonth
    - dnb_getKeyIndicatorsMonetaryStatisticsMonth
    - dnb_getBalanceSheetOfDutchBasedMfisNotIncludingDnbMonth
    
  dnb-macro:
    - dnb_getMacroeconomicScoreboardQuarter
    - dnb_getMacroeconomicScoreboardYear
    
  dnb-all:
    - dnb-all-apis  # Reference the entire OpenAPI spec